# JDBC 커넥션 풀

이 장에서는
서버 프로그램이 데이터베이스와 **어떻게 연결을 관리하는지**를 살펴본다.

앞 장에서 데이터 구조(스키마)를 확인했다면,
이제는 **그 데이터에 접근하기 위한 연결 방식**을 이해할 차례다.

---

## 강의 목표

* JDBC의 역할을 개념적으로 이해한다
* DB 커넥션이 무엇인지 설명할 수 있다
* 커넥션 풀(Connection Pool)이 필요한 이유를 이해한다
* Spring Boot에서 커넥션 풀이 기본으로 사용되는 이유를 안다

---

## 1. JDBC란 무엇인가

JDBC(Java Database Connectivity)는
**자바 프로그램이 데이터베이스와 통신하기 위한 표준 인터페이스**다.

JDBC의 역할은 단순하다.

* 자바 코드 → SQL 전달
* DB 결과 → 자바 객체로 반환

> JDBC는 특정 DB(MySQL, Oracle 등)에 종속되지 않는다.

---

## 2. DB 커넥션이란

DB 커넥션(connection)은
**서버 프로그램과 데이터베이스 사이의 연결 통로**다.

요청 하나가 SQL을 실행하려면:

1. DB에 연결하고
2. SQL을 보내고
3. 결과를 받고
4. 연결을 종료한다

---

## 3. 커넥션을 매번 새로 만들면 생기는 문제

만약 요청이 올 때마다
DB 커넥션을 새로 만든다면 문제가 생긴다.

* 연결/해제 비용이 크다
* 동시에 많은 요청을 처리하기 어렵다
* DB에 부하가 급격히 증가한다

> 서버는 보통 초당 수십~수백 요청을 처리한다.

---

## 4. 커넥션 풀(Connection Pool)의 개념

커넥션 풀은
**미리 여러 개의 DB 커넥션을 만들어 두고 재사용하는 방식**이다.

```text
요청 → 커넥션 대여 → SQL 실행 → 커넥션 반납
```

특징:

* 커넥션 생성 비용 감소
* 동시 처리 성능 향상
* DB 부하 제어 가능

---

## 5. 서버에서 커넥션 풀은 필수다

실무 서버에서는
**커넥션 풀 없는 DB 접근은 거의 존재하지 않는다.**

이유:

* 성능
* 안정성
* 예측 가능한 자원 사용

그래서 대부분의 서버 프레임워크는
커넥션 풀을 기본으로 제공한다.

---

## 6. Spring Boot의 기본 커넥션 풀

Spring Boot는 기본적으로
**HikariCP 커넥션 풀**을 사용한다.

중요 포인트:

* 별도 설정 없이 자동 적용
* 일반적인 서버에 충분한 성능
* 실무에서 가장 많이 사용

> 지금 단계에서는
> 설정을 직접 건드리지 않는다.

---

## 7. 커넥션 풀과 Repository의 관계

Repository에서 SQL을 실행할 때:

```text
Repository → JDBC → Connection Pool → DB
```

Repository는

* 커넥션을 직접 만들지 않는다
* 풀에서 커넥션을 빌려 쓴다

이 구조를 이해하는 것이 중요하다.

---

## 이 장의 핵심 정리

* JDBC는 자바와 DB를 연결하는 표준이다
* DB 커넥션은 비용이 큰 자원이다
* 커넥션 풀은 성능과 안정성을 위해 필수다
* Spring Boot는 커넥션 풀을 기본으로 제공한다

---

## 다음 단계

→ [**트랜잭션 관리**](10-transaction_management.md)

