# 데이터베이스 스키마 설계

이 장에서는
서버 프로그램이 사용할 **데이터베이스 스키마(schema)** 를 설계한다.

앞 장에서
SQL이 Repository 계층에 위치해야 한다는 것을 확인했다면,
이제는 **그 SQL이 다루게 될 데이터 구조**를 정의할 차례다.

---

## 강의 목표

* 데이터베이스 스키마의 의미를 이해한다
* 테이블, 컬럼, 행(row)의 개념을 구분할 수 있다
* 기본적인 테이블 구조를 설계할 수 있다
* 이후 Repository에서 사용할 데이터 형태를 인식한다

---

## 1. 스키마(schema)란 무엇인가

스키마는
**데이터가 어떤 구조로 저장되는지에 대한 설계도**다.

서버 프로그램 입장에서 스키마는

* 어떤 테이블이 있는지
* 각 테이블에 어떤 컬럼이 있는지
* 데이터가 어떤 형태로 저장되는지

를 정의한다.

> 스키마는 "데이터의 약속"이다.

---

## 2. 테이블, 컬럼, 행

하나의 테이블은
엑셀 시트와 비슷한 형태를 가진다.

* 테이블(table): 데이터의 묶음
* 컬럼(column): 데이터의 속성
* 행(row): 하나의 데이터

---

## 3. 예제 테이블: users

이후 예제에서 사용할
가장 단순한 사용자 테이블을 설계한다.

### 3-1. users 테이블이 필요한 이유

* 서버는 사용자 데이터를 다룬다
* 사용자 식별이 필요하다
* 가장 단순하면서 확장하기 쉽다

---

### 3-2. users 테이블 컬럼 설계

| 컬럼명        | 의미        | 타입 예시    |
| ---------- | --------- | -------- |
| id         | 사용자 고유 ID | BIGINT   |
| username   | 사용자 이름    | VARCHAR  |
| created_at | 생성 시각     | DATETIME |

---

## 4. 기본 키(PK) 개념

`id` 컬럼은
각 행을 구분하기 위한 **기본 키(Primary Key)** 다.

기본 키의 특징:

* 중복 불가
* NULL 불가
* 각 데이터의 고유 식별자

---

## 5. 테이블 생성 SQL (개념용)

아래 SQL은
**문법 학습용이 아니라 구조 이해용**이다.

```sql
CREATE TABLE users (
  id BIGINT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL,
  created_at DATETIME NOT NULL
);
```

> 지금은 SQL을 외울 필요가 없다.
> "아, 이런 구조가 있구나" 정도면 충분하다.

---

## 6. Repository와 스키마의 관계

Repository에서 작성한 SQL은
이 스키마 구조를 기준으로 동작한다.

```text
Repository SQL → users 테이블 → 데이터
```

스키마가 바뀌면
Repository의 SQL도 함께 바뀐다.

---

## 7. 지금 단계에서 하지 않는 것

이 장에서는 다음을 다루지 않는다.

* JOIN
* 인덱스
* 정규화 이론
* 성능 튜닝

이 내용들은
서버 구조를 이해한 이후 단계에서 다룬다.

---

## 이 장의 핵심 정리

* 스키마는 데이터 구조의 설계도다
* 테이블은 데이터의 저장 단위다
* Repository SQL은 스키마를 기준으로 동작한다
* 지금은 구조 이해가 목적이다

---

## 다음 단계

→ [**JDBC 커넥션 풀**](09-jdbc_connection_pool.md)