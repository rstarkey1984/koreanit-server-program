# 리눅스 쉘과 명령어 실행 원리



## 1. 쉘(shell)이란 무엇인가

리눅스에서 **쉘(shell)** 은
사용자가 입력한 명령어를 받아서
운영체제에 전달하고, 그 결과를 다시 보여주는 **중간 프로그램**이다.

즉,

> **쉘은 사람과 리눅스 커널 사이의 통역기 역할**을 한다.

---

### 쉘이 하는 일

쉘은 다음 작업을 담당한다.

* 사용자가 입력한 명령어 해석
* 실행 파일 검색 (PATH 사용)
* 프로그램 실행
* 결과 출력

---

### 쉘과 터미널의 차이

| 구분  | 의미                      |
| --- | ----------------------- |
| 터미널 | 글자를 입력하고 결과를 보여주는 화면/도구 |
| 쉘   | 명령어를 해석하고 실행하는 프로그램     |

> **터미널 안에서 쉘이 실행된다**

---

## 2. PATH 환경변수

리눅스에서 명령어를 실행할 수 있는 이유는
**PATH 환경변수** 때문이다.

```bash
echo $PATH
```

PATH에 등록된 디렉터리 안의 실행 파일은
**파일명만 입력해도 실행**된다.

---

### 명령어 실행의 전체 흐름

```text
명령 입력
→ 쉘이 해석
→ PATH에서 실행 파일 검색
→ 실행 권한 확인
→ shebang 확인
→ 프로그램 실행
```

---

## 3. 실행 파일의 조건

리눅스에서 파일이 실행되기 위해서는
다음 두 조건을 만족해야 한다.

1. 실행 권한(x)
2. shebang(#!)

확장자는 실행 여부와 직접적인 관계가 없다.

---

### 3-1. 실행 권한

```bash
ls -l 파일명
```

* `x` 권한이 있어야 실행 가능
* 권한이 없으면 실행되지 않는다

---

### 3-2. shebang(#!)

```bash
#!/usr/bin/env bash
```

> 이 파일을 어떤 프로그램으로 실행할지 지정한다.

---

## 4. 나만의 명령어 만들어보기 

지금까지 배운 내용을 직접 확인해본다.

---

### 4-1. 스크립트 작성

`hello-server` 파일내용

```bash
#!/usr/bin/env bash

echo "Hello Server"
echo "user=$(whoami)"
echo "current_dir=$(pwd)"
```

---

### 4-2. 실행 권한 부여

```bash
chmod +x hello-server
```


### 4-3. 실행
```bash
hello-server
```


### 4-4. 파일이동
```bash
sudo mv hello-server /usr/local/bin/
```

> `/usr/local/bin` 은 시스템 디렉터리이기 때문에, 일반 사용자는 파일을 쓸 수 없어서 `sudo` 가 필요하다.

---

### 4-5. 어디서든 실행

```bash
cd /
hello-server

cd ~
hello-server
```

> PATH + 실행 권한 + shebang이 모두 충족되었기 때문에 실행된다.

---

## 5. 명령어의 실제 위치 확인

```bash
which hello-server
```

출력 결과는 PATH에서 찾은 실제 실행 파일 위치다.

---

## 6. 서버 접속 시 실행되는 설정 파일

서버에 접속하면 리눅스는
명령어를 실행하기 전에 먼저 환경을 준비한다.

이 과정에서 PATH가 만들어진다.

---

### 주요 설정 파일

| 파일               | 역할                   |
| ---------------- | -------------------- |
| /etc/environment | 시스템 기본 환경변수 (PAM 단계) |
| /etc/profile     | 모든 사용자 공통 설정         |
| ~/.profile       | 사용자 세션 시작 시 적용되는 설정         |
| ~/.bashrc        | 쉘 실행 시마다 적용          |

---



## 핵심 정리

* 쉘은 명령어 실행을 담당하는 프로그램이다
* PATH는 실행 파일 검색 경로다
* 실행 파일은 권한과 shebang이 필요하다
* 설정 파일은 PATH를 준비한다

---

## 다음 단계

→ [**MySQL 설치 및 기본 구성**](08-mysql_install_setup.md)
